<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pepper Web View</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <style>
        body { margin: 0; padding: 10px; height: 100%; }
        #container { min-width:100%; min-height:100%; position:absolute; text-align: center}
    </style>
</head>
<body>

<img id="image" src="image_1.png?0">

<div id="container">
    <div id="camera"></div>
    <div id="utterance"></div>
</div>

<script>

$(function() {
    var cnt = 0;
    var load_data = function() {
        cnt += 1;
        try {
            $.get("data.json", function (msg, status) {
                if (status !== 200 && status !== "success") {
                    $("#utterance").html("Get Failed with status " + status);
                    return;
                }

                // -- Receive Data from Host -- //
                $("#utterance").html(msg['speaker'] + "(" + cnt+ ")> " + msg['utterance']);
            });
        } catch (e) {
            $("#utterance").html("Get Failed with exception " + e);
        }
        $("#image").attr("src", "image_" + (cnt % 2) + ".png?" + cnt);
    };

    setInterval(load_data, 2500);
});


</script>
</body>
</html>
